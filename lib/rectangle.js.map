{"version":3,"file":"rectangle.js","sourceRoot":"","sources":["file:///D:/projects/esi2d/src/rectangle.ts"],"names":[],"mappings":"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","sourcesContent":["import { Point } from './point';\r\nimport { RelativeRectangle } from './relative-rectangle';\r\nimport { setPrecision } from './utilities';\r\n\r\nexport class Rectangle {\r\n  \r\n  constructor(x: number = 0,\r\n              y: number = 0,\r\n              width: number = 0,\r\n              height: number = 0) {\r\n    \r\n    this.position = new Point(x, y);\r\n    this.width = width;\r\n    this.height = height;\r\n  }\r\n\r\n  position: Point;\r\n\r\n  width: number;\r\n\r\n  height: number;\r\n  \r\n  getRelativeRectangle(anotherRectangle: Rectangle, validate: boolean = true): RelativeRectangle {\r\n    let containerRectangle: Rectangle = anotherRectangle;\r\n    let relativeRectangle: Rectangle = this;\r\n\r\n    if (validate && relativeRectangle.containRectangle(containerRectangle)) {\r\n      containerRectangle = this;\r\n      relativeRectangle = anotherRectangle;\r\n    }\r\n    \r\n    return new RelativeRectangle(\r\n      relativeRectangle.position.y / containerRectangle.height,\r\n      relativeRectangle.position.x / containerRectangle.width,\r\n      (relativeRectangle.position.y + relativeRectangle.height) / containerRectangle.height,\r\n      (relativeRectangle.position.x + relativeRectangle.width) / containerRectangle.width,\r\n      validate);\r\n  }\r\n\r\n  intersect(rectangle: Rectangle): boolean {\r\n    // TODO: calculate rectangle intersection\r\n    return false;\r\n  }\r\n\r\n  containPoint(point: Point): boolean {\r\n    if (point.x < this.position.x) {\r\n      return false;\r\n    }\r\n\r\n    if (point.y < this.position.y) {\r\n      return false;\r\n    }\r\n\r\n    if (point.x > this.position.x + this.width) {\r\n      return false;\r\n    }\r\n\r\n    if (point.y > this.position.y + this.height) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  containRectangle(anotherRectangle: Rectangle): boolean {\r\n    if (this.position.x > anotherRectangle.position.x) {\r\n      return false;\r\n    }\r\n\r\n    if (this.position.y > anotherRectangle.position.y) {\r\n      return false;\r\n    }\r\n\r\n    if (this.width < anotherRectangle.width) {\r\n      return false;\r\n    }\r\n\r\n    if (this.height < anotherRectangle.height) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  isSame(rectangle: Rectangle): boolean {\r\n    if (!this.position.isSame(rectangle.position))\r\n      return false;\r\n\r\n    if (this.width !== rectangle.width)\r\n      return false;\r\n\r\n    if (this.height !== rectangle.height)\r\n      return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  isZero(): boolean {\r\n    if (!this.position.isZero())\r\n      return false;\r\n\r\n    if (this.width !== 0)\r\n      return false;\r\n\r\n    if (this.height !== 0)\r\n      return false;\r\n\r\n    return true;\r\n  }\r\n\r\n}"]}